<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programme de Force 12 Semaines - Haltérophilie & CrossFit</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral (Slate, Zinc, Amber) -->
    <!-- Application Structure Plan: Une application mono-page (SPA) avec une navigation par onglets pour séparer les sections clés : 1) Introduction et Calculateur de charges pour personnaliser l'expérience, 2) Le Programme interactif où l'utilisateur sélectionne la semaine et le jour pour voir la séance détaillée avec les poids calculés, 3) Un graphique de progression visuelle, et 4) La philosophie du programme. Cette structure décompose une grande quantité d'informations en segments gérables, rendant le programme facile à suivre et à comprendre. L'interactivité via le calcul des charges est essentielle pour l'utilité pratique de l'application. -->
    <!-- Visualization & Content Choices: 
        - Infos du rapport : Records personnels (1RM). But : Personnaliser. Méthode : Formulaire HTML interactif. Interaction : L'utilisateur entre ses 1RMs, le JS calcule le Training Max (TM) à 90% et l'utilise pour toutes les charges du programme. Justification : Rend le programme immédiatement applicable et personnalisé. Méthode : JS pur.
        - Infos du rapport : Programme détaillé sur 12 semaines. But : Organiser/Informer. Méthode : Tableaux HTML générés dynamiquement. Interaction : Navigation par semaine et par jour pour afficher la séance correspondante. Justification : Présentation claire et structurée d'un plan complexe. Méthode : JS pur (manipulation du DOM).
        - Infos du rapport : Progression des pourcentages hebdomadaires. But : Visualiser le changement. Méthode : Graphique en lignes. Interaction : Survol des points pour voir les détails. Justification : Communique clairement la périodisation et l'augmentation de l'intensité au fil du temps. Méthode : Chart.js (Canvas).
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .tab-active {
            border-color: #f59e0b; /* amber-500 */
            color: #f59e0b; /* amber-500 */
            background-color: #fffbeb; /* amber-50 */
        }
        .tab-inactive {
            border-color: transparent;
            color: #475569; /* slate-600 */
        }
        .btn-day-active {
            background-color: #f59e0b; /* amber-500 */
            color: white;
        }
        .btn-week-active {
            background-color: #1e293b; /* slate-800 */
            color: white;
            border-color: #f59e0b; /* amber-500 */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 tracking-tight">Programme de Force Avancé</h1>
            <p class="mt-3 text-lg text-slate-600 max-w-3xl mx-auto">Cycle de 12 semaines pour Haltérophilie & CrossFit</p>
        </header>

        <div class="max-w-5xl mx-auto">
            <div class="border-b border-slate-200 mb-8">
                <nav class="-mb-px flex flex-wrap justify-center gap-x-4 sm:gap-x-6" aria-label="Tabs">
                    <button id="tab-intro" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200">Introduction</button>
                    <button id="tab-program" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200">Programme</button>
                    <button id="tab-progression" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200">Progression</button>
                    <button id="tab-philosophy" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200">Philosophie</button>
                </nav>
            </div>

            <main>
                <div id="content-intro" class="space-y-8">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h2 class="text-2xl font-bold text-slate-800 mb-4">Approche du Programme</h2>
                        <p class="text-slate-600 leading-relaxed">
                            Ce programme est conçu pour augmenter votre force maximale sur les 5 mouvements fondamentaux. La clé de notre approche est l'utilisation d'un <strong class="font-semibold text-slate-700">"Training Max" (TM)</strong>. Au lieu de travailler avec vos vrais records (1RM), nous basons tous les pourcentages sur 90% de ces records. Cette méthode permet une progression plus constante, une meilleure gestion de la fatigue et réduit le risque de "griller" le système nerveux. Calculez vos TM ci-dessous pour personnaliser entièrement le programme.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h3 class="text-2xl font-bold text-slate-800 mb-4">1. Calculez votre Training Max (TM)</h3>
                        <p class="text-slate-500 mb-6">Entrez vos records personnels (1RM) actuels. Le TM (90% du 1RM) sera calculé automatiquement.</p>
                        <div id="tm-calculator" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="space-y-4">
                                <div>
                                    <label for="bs-1rm" class="block text-sm font-medium text-slate-700">Back Squat 1RM (kg)</label>
                                    <input type="number" id="bs-1rm" value="155" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm">
                                </div>
                                <div>
                                    <label for="fs-1rm" class="block text-sm font-medium text-slate-700">Front Squat 1RM (kg)</label>
                                    <input type="number" id="fs-1rm" value="120" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm">
                                </div>
                                <div>
                                    <label for="dl-1rm" class="block text-sm font-medium text-slate-700">Deadlift 1RM (kg)</label>
                                    <input type="number" id="dl-1rm" value="180" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm">
                                </div>
                                <div>
                                    <label for="bp-1rm" class="block text-sm font-medium text-slate-700">Bench Press 1RM (kg)</label>
                                    <input type="number" id="bp-1rm" value="110" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm">
                                </div>
                                <div>
                                    <label for="sp-1rm" class="block text-sm font-medium text-slate-700">Strict Press 1RM (kg)</label>
                                    <input type="number" id="sp-1rm" value="63" class="mt-1 block w-full rounded-md border-slate-300 shadow-sm focus:border-amber-500 focus:ring-amber-500 sm:text-sm">
                                </div>
                            </div>
                            <div class="bg-slate-50 p-6 rounded-lg border border-slate-200">
                                <h4 class="font-semibold text-lg text-slate-800 mb-4">Vos Training Max :</h4>
                                <ul class="space-y-3">
                                    <li class="flex justify-between items-center text-sm"><span class="font-medium text-slate-600">Back Squat TM:</span><span id="bs-tm" class="font-bold text-amber-600 text-lg"></span></li>
                                    <li class="flex justify-between items-center text-sm"><span class="font-medium text-slate-600">Front Squat TM:</span><span id="fs-tm" class="font-bold text-amber-600 text-lg"></span></li>
                                    <li class="flex justify-between items-center text-sm"><span class="font-medium text-slate-600">Deadlift TM:</span><span id="dl-tm" class="font-bold text-amber-600 text-lg"></span></li>
                                    <li class="flex justify-between items-center text-sm"><span class="font-medium text-slate-600">Bench Press TM:</span><span id="bp-tm" class="font-bold text-amber-600 text-lg"></span></li>
                                    <li class="flex justify-between items-center text-sm"><span class="font-medium text-slate-600">Strict Press TM:</span><span id="sp-tm" class="font-bold text-amber-600 text-lg"></span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="content-program" class="hidden">
                     <div class="bg-white p-6 rounded-lg shadow-sm">
                        <div class="flex flex-col items-center gap-8">
                            <div>
                                <h3 class="text-xl font-bold text-center text-slate-800 mb-4">Sélectionnez la semaine</h3>
                                <div id="week-selector" class="flex flex-wrap justify-center gap-2"></div>
                            </div>
                            <div id="day-selector-container" class="w-full">
                                <h3 class="text-xl font-bold text-center text-slate-800 mb-4">Sélectionnez le jour</h3>
                                <div id="day-selector" class="flex flex-wrap justify-center gap-3"></div>
                            </div>
                        </div>
                        <div id="workout-display" class="mt-8 min-h-[300px]"></div>
                    </div>
                </div>

                <div id="content-progression" class="hidden">
                    <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h2 class="text-2xl font-bold text-slate-800 mb-2">Visualisation de la Progression</h2>
                        <p class="text-slate-600 mb-6 max-w-3xl">Ce graphique illustre l'augmentation de l'intensité (le pourcentage de votre TM) pour les mouvements principaux au fil des 12 semaines. Vous remarquerez que le volume (séries x répétitions) diminue à mesure que l'intensité augmente, ce qui est la clé pour atteindre un pic de force à la fin du cycle.</p>
                        <div class="chart-container">
                            <canvas id="progressionChart"></canvas>
                        </div>
                    </div>
                </div>

                <div id="content-philosophy" class="hidden">
                     <div class="bg-white p-6 rounded-lg shadow-sm">
                        <h2 class="text-2xl font-bold text-slate-800 mb-4">Philosophie de Programmation</h2>
                        <div class="text-slate-600 leading-relaxed space-y-4">
                            <p>
                                Ce programme est basé sur une <strong class="font-semibold text-slate-700">périodisation par blocs</strong>, une méthode éprouvée pour développer la force maximale. Le cycle est divisé en trois phases distinctes :
                            </p>
                            <ul class="list-disc list-inside space-y-2 pl-2">
                                <li>
                                    <strong class="font-semibold text-slate-700">Bloc d'Accumulation (Semaines 1-4) :</strong> L'objectif ici est de construire une base solide en augmentant le volume de travail. Les pourcentages sont modérés, mais le nombre de répétitions est plus élevé. C'est durant cette phase que nous développons la masse musculaire et la capacité de travail qui soutiendront les charges plus lourdes à venir.
                                </li>
                                <li>
                                    <strong class="font-semibold text-slate-700">Bloc d'Intensification (Semaines 5-8) :</strong> Le volume commence à diminuer tandis que l'intensité (le poids sur la barre) augmente significativement. Le système nerveux est mis à rude épreuve pour s'adapter à des charges de plus en plus lourdes. La semaine de deload (semaine 8) est cruciale ici pour permettre une surcompensation et une récupération avant la phase finale.
                                </li>
                                <li>
                                    <strong class="font-semibold text-slate-700">Bloc de Réalisation/Peak (Semaines 9-12) :</strong> C'est la phase de pic de performance. Le volume est très bas, mais l'intensité est maximale. Chaque séance prépare le corps et l'esprit à soulever de nouvelles charges records. La dernière semaine est conçue pour tester vos nouveaux 1RM.
                                </li>
                            </ul>
                            <p>
                                Les exercices d'assistance et accessoires ont été choisis spécifiquement pour leur transfert vers l'haltérophilie et le CrossFit. Par exemple, le <em class="text-slate-700">Pause Squat</em> renforce le contrôle dans le fond du squat (essentiel pour le Snatch et le Clean), les <em class="text-slate-700">Good Mornings</em> développent la chaîne postérieure vitale pour le Deadlift, et le travail unilatéral (fentes, rowing) corrige les déséquilibres et prévient les blessures.
                            </p>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const TMs = {};

            const programData = [
                { week: 1, day: 1, phase: 'Accumulation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '5x5', pct: 65 }, { type: 'Assistance', ex: 'Good Morning', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Fentes Bulgares', sets: '3x10/jambe', pct: null }, { type: 'Accessoire', ex: 'GHD Sit-ups', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Mollets debout', sets: '3x20', pct: null }, ] },
                { week: 1, day: 2, phase: 'Accumulation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '5x5', pct: 65 }, { type: 'Assistance', ex: 'Push Press', sets: '4x6', pct: null }, { type: 'Assistance', ex: 'DB Incline Press', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Tirage Horizontal (Row)', sets: '4x12', pct: null }, { type: 'Accessoire', ex: 'Extensions Triceps', sets: '3x15', pct: null }, ] },
                { week: 1, day: 3, phase: 'Accumulation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '5x5', pct: 65 }, { type: 'Assistance', ex: 'Romanian Deadlift (RDL)', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Hip Thrusts', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Pull-ups (lestées si possible)', sets: '4x AMRAP', pct: null }, { type: 'Accessoire', ex: 'Gainage planche', sets: '3x60s', pct: null }, ] },
                { week: 1, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 1, day: 5, phase: 'Accumulation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '5x5', pct: 65 }, { type: 'Assistance', ex: 'Front Squat', sets: '4x5', pct: 70 }, { type: 'Assistance', ex: 'Face Pulls', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Élévations latérales', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Curl Biceps', sets: '3x12', pct: null }, ] },
                { week: 2, day: 1, phase: 'Accumulation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '5x5', pct: 70 }, { type: 'Assistance', ex: 'Good Morning', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Fentes Bulgares', sets: '3x10/jambe', pct: null }, { type: 'Accessoire', ex: 'GHD Sit-ups', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Mollets debout', sets: '3x20', pct: null }, ] },
                { week: 2, day: 2, phase: 'Accumulation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '5x5', pct: 70 }, { type: 'Assistance', ex: 'Push Press', sets: '4x6', pct: null }, { type: 'Assistance', ex: 'DB Incline Press', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Tirage Horizontal (Row)', sets: '4x12', pct: null }, { type: 'Accessoire', ex: 'Extensions Triceps', sets: '3x15', pct: null }, ] },
                { week: 2, day: 3, phase: 'Accumulation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '5x5', pct: 70 }, { type: 'Assistance', ex: 'Romanian Deadlift (RDL)', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Hip Thrusts', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Pull-ups (lestées si possible)', sets: '4x AMRAP', pct: null }, { type: 'Accessoire', ex: 'Gainage planche', sets: '3x60s', pct: null }, ] },
                { week: 2, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 2, day: 5, phase: 'Accumulation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '5x5', pct: 70 }, { type: 'Assistance', ex: 'Front Squat', sets: '4x5', pct: 75 }, { type: 'Assistance', ex: 'Face Pulls', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Élévations latérales', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Curl Biceps', sets: '3x12', pct: null }, ] },
                { week: 3, day: 1, phase: 'Accumulation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '5x5', pct: 75 }, { type: 'Assistance', ex: 'Good Morning', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Fentes Bulgares', sets: '3x10/jambe', pct: null }, { type: 'Accessoire', ex: 'GHD Sit-ups', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Mollets debout', sets: '3x20', pct: null }, ] },
                { week: 3, day: 2, phase: 'Accumulation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '5x5', pct: 75 }, { type: 'Assistance', ex: 'Push Press', sets: '4x6', pct: null }, { type: 'Assistance', ex: 'DB Incline Press', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Tirage Horizontal (Row)', sets: '4x12', pct: null }, { type: 'Accessoire', ex: 'Extensions Triceps', sets: '3x15', pct: null }, ] },
                { week: 3, day: 3, phase: 'Accumulation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '5x5', pct: 75 }, { type: 'Assistance', ex: 'Romanian Deadlift (RDL)', sets: '4x8', pct: null }, { type: 'Assistance', ex: 'Hip Thrusts', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Pull-ups (lestées si possible)', sets: '4x AMRAP', pct: null }, { type: 'Accessoire', ex: 'Gainage planche', sets: '3x60s', pct: null }, ] },
                { week: 3, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 3, day: 5, phase: 'Accumulation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '5x5', pct: 75 }, { type: 'Assistance', ex: 'Front Squat', sets: '4x5', pct: 80 }, { type: 'Assistance', ex: 'Face Pulls', sets: '3x15', pct: null }, { type: 'Accessoire', ex: 'Élévations latérales', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Curl Biceps', sets: '3x12', pct: null }, ] },
                { week: 4, day: 1, phase: 'Accumulation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '1x5@65%, 1x5@75%, 1x5+@85%', pct: 85 }, { type: 'Assistance', ex: 'Good Morning', sets: '3x8', pct: null }, { type: 'Assistance', ex: 'Fentes Bulgares', sets: '3x8/jambe', pct: null }, { type: 'Accessoire', ex: 'GHD Sit-ups', sets: '3xAMRAP', pct: null } ] },
                { week: 4, day: 2, phase: 'Accumulation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '1x5@65%, 1x5@75%, 1x5+@85%', pct: 85 }, { type: 'Assistance', ex: 'Push Press', sets: '3x5', pct: null }, { type: 'Assistance', ex: 'DB Incline Press', sets: '3x8', pct: null }, { type: 'Accessoire', ex: 'Tirage Horizontal (Row)', sets: '3x10', pct: null } ] },
                { week: 4, day: 3, phase: 'Accumulation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '1x5@65%, 1x5@75%, 1x5+@85%', pct: 85 }, { type: 'Assistance', ex: 'Romanian Deadlift (RDL)', sets: '3x8', pct: null }, { type: 'Assistance', ex: 'Hip Thrusts', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Pull-ups (lestées)', sets: '3x8', pct: null } ] },
                { week: 4, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 4, day: 5, phase: 'Accumulation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '1x5@65%, 1x5@75%, 1x5+@85%', pct: 85 }, { type: 'Assistance', ex: 'Front Squat', sets: '1x5@70%, 1x5@80%, 1x3+@85%', pct: 85 }, { type: 'Assistance', ex: 'Face Pulls', sets: '3x12', pct: null } ] },
                { week: 5, day: 1, phase: 'Intensification', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '5x3', pct: 80 }, { type: 'Assistance', ex: 'Pause Back Squat (3s)', sets: '4x3', pct: null }, { type: 'Assistance', ex: 'Box Jumps', sets: '5x5', pct: null }, { type: 'Accessoire', ex: 'Toes-to-bar', sets: '3x12', pct: null } ] },
                { week: 5, day: 2, phase: 'Intensification', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '5x3', pct: 80 }, { type: 'Assistance', ex: 'Close Grip Bench Press', sets: '4x5', pct: null }, { type: 'Assistance', ex: 'DB Skullcrushers', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Pendlay Row', sets: '4x8', pct: null } ] },
                { week: 5, day: 3, phase: 'Intensification', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '5x3', pct: 80 }, { type: 'Assistance', ex: 'Deficit Deadlift (5cm)', sets: '4x3', pct: null }, { type: 'Assistance', ex: 'GHD Back Extensions', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Kettlebell Swings (lourds)', sets: '4x15', pct: null } ] },
                { week: 5, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 5, day: 5, phase: 'Intensification', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '5x3', pct: 80 }, { type: 'Assistance', ex: 'Front Squat', sets: '3x3', pct: 85 }, { type: 'Assistance', ex: 'Band Pull-Aparts', sets: '3x20', pct: null }, { type: 'Accessoire', ex: 'Arnold Press', sets: '3x10', pct: null } ] },
                { week: 6, day: 1, phase: 'Intensification', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '5x3', pct: 85 }, { type: 'Assistance', ex: 'Pause Back Squat (3s)', sets: '4x3', pct: null }, { type: 'Assistance', ex: 'Box Jumps', sets: '5x5', pct: null }, { type: 'Accessoire', ex: 'Toes-to-bar', sets: '3x12', pct: null } ] },
                { week: 6, day: 2, phase: 'Intensification', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '5x3', pct: 85 }, { type: 'Assistance', ex: 'Close Grip Bench Press', sets: '4x5', pct: null }, { type: 'Assistance', ex: 'DB Skullcrushers', sets: '3x10', pct: null }, { type: 'Accessoire', ex: 'Pendlay Row', sets: '4x8', pct: null } ] },
                { week: 6, day: 3, phase: 'Intensification', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '5x3', pct: 85 }, { type: 'Assistance', ex: 'Deficit Deadlift (5cm)', sets: '4x3', pct: null }, { type: 'Assistance', ex: 'GHD Back Extensions', sets: '3x12', pct: null }, { type: 'Accessoire', ex: 'Kettlebell Swings (lourds)', sets: '4x15', pct: null } ] },
                { week: 6, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 6, day: 5, phase: 'Intensification', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '5x3', pct: 85 }, { type: 'Assistance', ex: 'Front Squat', sets: '3x3', pct: 90 }, { type: 'Assistance', ex: 'Band Pull-Aparts', sets: '3x20', pct: null }, { type: 'Accessoire', ex: 'Arnold Press', sets: '3x10', pct: null } ] },
                { week: 7, day: 1, phase: 'Intensification', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '1x3@75%, 1x3@85%, 1x3+@90%', pct: 90 }, { type: 'Assistance', ex: 'Pause Back Squat (1s)', sets: '3x2', pct: null }, { type: 'Assistance', ex: 'Box Jumps', sets: '3x5', pct: null } ] },
                { week: 7, day: 2, phase: 'Intensification', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '1x3@75%, 1x3@85%, 1x3+@90%', pct: 90 }, { type: 'Assistance', ex: 'Close Grip Bench Press', sets: '3x5', pct: null }, { type: 'Accessoire', ex: 'Pendlay Row', sets: '3x8', pct: null } ] },
                { week: 7, day: 3, phase: 'Intensification', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '1x3@75%, 1x3@85%, 1x3+@90%', pct: 90 }, { type: 'Assistance', ex: 'Deficit Deadlift (5cm)', sets: '3x3', pct: null }, { type: 'Accessoire', ex: 'Kettlebell Swings', sets: '3x15', pct: null } ] },
                { week: 7, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 7, day: 5, phase: 'Intensification', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '1x3@75%, 1x3@85%, 1x3+@90%', pct: 90 }, { type: 'Assistance', ex: 'Front Squat', sets: '1x3@80%, 1x3@85%, 1x1+@92%', pct: 92 }, { type: 'Accessoire', ex: 'Arnold Press', sets: '3x8', pct: null } ] },
                { week: 8, day: 1, phase: 'Deload', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '3x5', pct: 50 }, { type: 'Assistance', ex: 'Mobilité hanches', sets: '15 min', pct: null }, { type: 'Accessoire', ex: 'Gainage', sets: '3x45s', pct: null } ] },
                { week: 8, day: 2, phase: 'Deload', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '3x5', pct: 50 }, { type: 'Assistance', ex: 'Mobilité épaules', sets: '15 min', pct: null }, { type: 'Accessoire', ex: 'Face pulls légers', sets: '3x20', pct: null } ] },
                { week: 8, day: 3, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 8, day: 4, phase: 'Deload', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '3x5', pct: 50 }, { type: 'Assistance', ex: 'Étirements chaîne postérieure', sets: '15 min', pct: null }, { type: 'Accessoire', ex: 'Bird-dog', sets: '3x10/côté', pct: null } ] },
                { week: 8, day: 5, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 9, day: 1, phase: 'Réalisation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '1x5@75%, 1x3@85%, 1x1+@95%', pct: 95 }, { type: 'Assistance', ex: 'Box Jumps (hauteur max)', sets: '5x3', pct: null }, { type: 'Accessoire', ex: 'Core work', sets: '10 min', pct: null } ] },
                { week: 9, day: 2, phase: 'Réalisation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '1x5@75%, 1x3@85%, 1x1+@95%', pct: 95 }, { type: 'Assistance', ex: 'Push Press', sets: '3x3', pct: null }, { type: 'Accessoire', ex: 'Band Pull-Aparts', sets: '3x15', pct: null } ] },
                { week: 9, day: 3, phase: 'Réalisation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '1x5@75%, 1x3@85%, 1x1+@95%', pct: 95 }, { type: 'Assistance', ex: 'Broad Jumps', sets: '5x3', pct: null }, { type: 'Accessoire', ex: 'GHD Back Extensions', sets: '3x10', pct: null } ] },
                { week: 9, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 9, day: 5, phase: 'Réalisation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '1x5@75%, 1x3@85%, 1x1+@95%', pct: 95 }, { type: 'Assistance', ex: 'Front Squat', sets: '3x1', pct: 95 }, { type: 'Accessoire', ex: 'Face Pulls', sets: '3x15', pct: null } ] },
                { week: 10, day: 1, phase: 'Réalisation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '1x3@80%, 1x2@90%, 1x1+@97%', pct: 97 }, { type: 'Assistance', ex: 'Box Jumps', sets: '3x3', pct: null } ] },
                { week: 10, day: 2, phase: 'Réalisation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '1x3@80%, 1x2@90%, 1x1+@97%', pct: 97 }, { type: 'Accessoire', ex: 'Band Pull-Aparts', sets: '2x15', pct: null } ] },
                { week: 10, day: 3, phase: 'Réalisation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '1x3@80%, 1x2@90%, 1x1+@97%', pct: 97 }, { type: 'Assistance', ex: 'Broad Jumps', sets: '3x3', pct: null } ] },
                { week: 10, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 10, day: 5, phase: 'Réalisation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '1x3@80%, 1x2@90%, 1x1+@97%', pct: 97 }, { type: 'Assistance', ex: 'Front Squat', sets: '2x1', pct: 97 } ] },
                { week: 11, day: 1, phase: 'Réalisation', mainMove: 'Back Squat', content: [ { type: 'Mouvement Principal', ex: 'Back Squat', sets: '1x3@70%, 1x2@80%, 1x1@90%, 1x1+@101%', pct: 101 } ] },
                { week: 11, day: 2, phase: 'Réalisation', mainMove: 'Bench Press', content: [ { type: 'Mouvement Principal', ex: 'Bench Press', sets: '1x3@70%, 1x2@80%, 1x1@90%, 1x1+@101%', pct: 101 } ] },
                { week: 11, day: 3, phase: 'Réalisation', mainMove: 'Deadlift', content: [ { type: 'Mouvement Principal', ex: 'Deadlift', sets: '1x3@70%, 1x2@80%, 1x1@90%, 1x1+@101%', pct: 101 } ] },
                { week: 11, day: 4, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 11, day: 5, phase: 'Réalisation', mainMove: 'Strict Press', content: [ { type: 'Mouvement Principal', ex: 'Strict Press', sets: '1x3@70%, 1x2@80%, 1x1@90%, 1x1+@101%', pct: 101 } ] },
                { week: 12, day: 1, phase: 'Test 1RM', mainMove: 'Back Squat', content: [ { type: 'Test', ex: 'Back Squat', sets: 'Travail jusqu\'à un nouveau 1RM', pct: 100 } ] },
                { week: 12, day: 2, phase: 'Test 1RM', mainMove: 'Bench Press', content: [ { type: 'Test', ex: 'Bench Press', sets: 'Travail jusqu\'à un nouveau 1RM', pct: 100 }, { type: 'Test', ex: 'Strict Press', sets: 'Travail jusqu\'à un nouveau 1RM', pct: 100 } ] },
                { week: 12, day: 3, phase: 'Repos', mainMove: 'Repos', content: [] },
                { week: 12, day: 4, phase: 'Test 1RM', mainMove: 'Deadlift', content: [ { type: 'Test', ex: 'Deadlift', sets: 'Travail jusqu\'à un nouveau 1RM', pct: 100 } ] },
                { week: 12, day: 5, phase: 'Test 1RM', mainMove: 'Front Squat', content: [ { type: 'Test', ex: 'Front Squat', sets: 'Travail jusqu\'à un nouveau 1RM', pct: 100 } ] },
            ];
            
            let currentWeek = 1;
            let currentDay = 1;
            let progressionChart = null;
            
            const roundToNearest = (value, nearest) => Math.round(value / nearest) * nearest;

            const calculateTMs = () => {
                const bs1rm = parseFloat(document.getElementById('bs-1rm').value) || 0;
                const fs1rm = parseFloat(document.getElementById('fs-1rm').value) || 0;
                const dl1rm = parseFloat(document.getElementById('dl-1rm').value) || 0;
                const bp1rm = parseFloat(document.getElementById('bp-1rm').value) || 0;
                const sp1rm = parseFloat(document.getElementById('sp-1rm').value) || 0;

                TMs['Back Squat'] = roundToNearest(bs1rm * 0.9, 1);
                TMs['Front Squat'] = roundToNearest(fs1rm * 0.9, 1);
                TMs['Deadlift'] = roundToNearest(dl1rm * 0.9, 1);
                TMs['Bench Press'] = roundToNearest(bp1rm * 0.9, 1);
                TMs['Strict Press'] = roundToNearest(sp1rm * 0.9, 1);
                
                document.getElementById('bs-tm').textContent = TMs['Back Squat'] + ' kg';
                document.getElementById('fs-tm').textContent = TMs['Front Squat'] + ' kg';
                document.getElementById('dl-tm').textContent = TMs['Deadlift'] + ' kg';
                document.getElementById('bp-tm').textContent = TMs['Bench Press'] + ' kg';
                document.getElementById('sp-tm').textContent = TMs['Strict Press'] + ' kg';
                
                renderWorkout(currentWeek, currentDay);
            };

            const renderWorkout = (week, day) => {
                currentWeek = week;
                currentDay = day;

                const workoutData = programData.find(w => w.week === week && w.day === day);
                const display = document.getElementById('workout-display');
                
                if (!workoutData) {
                    display.innerHTML = '<p class="text-center text-slate-500">Séance non trouvée.</p>';
                    return;
                }

                if (workoutData.mainMove === 'Repos') {
                    display.innerHTML = `<div class="text-center p-8 bg-slate-50 rounded-lg">
                        <h3 class="text-2xl font-bold text-slate-800">Jour de Repos</h3>
                        <p class="mt-2 text-slate-600">Profitez-en pour récupérer, vous étirer et bien vous nourrir. La récupération est essentielle à la progression.</p>
                    </div>`;
                    return;
                }
                
                let phaseTitle = workoutData.phase === 'Test 1RM' ? 'Semaine de Test 1RM' : `Phase: ${workoutData.phase}`;
                let html = `
                    <div class="border border-slate-200 rounded-lg overflow-hidden">
                        <div class="p-4 bg-slate-50 border-b border-slate-200">
                            <h3 class="text-lg font-bold text-slate-800">Semaine ${week}, Jour ${day} - ${workoutData.mainMove}</h3>
                             <p class="text-sm text-amber-600 font-semibold">${phaseTitle}</p>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-slate-200">
                                <thead class="bg-slate-50">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Type</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Exercice</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Séries x Répétitions</th>
                                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Charge</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-slate-200">`;

                workoutData.content.forEach(item => {
                    let weight = 'N/A';
                    if (item.pct && TMs[item.ex]) {
                        const calculatedWeight = TMs[item.ex] * (item.pct / 100);
                        weight = `${roundToNearest(calculatedWeight, 1)} kg <span class="text-xs text-slate-500">(@${item.pct}%)</span>`;
                    } else if (item.pct && item.ex === 'Front Squat' && TMs['Front Squat']) {
                         const calculatedWeight = TMs['Front Squat'] * (item.pct / 100);
                         weight = `${roundToNearest(calculatedWeight, 1)} kg <span class="text-xs text-slate-500">(@${item.pct}%)</span>`;
                    }
                    
                    html += `<tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-500">${item.type}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-slate-900">${item.ex}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-600">${item.sets}</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm font-bold text-amber-700">${weight}</td>
                            </tr>`;
                });

                html += `</tbody></table></div></div>`;
                display.innerHTML = html;
                updateActiveButtons();
            };
            
            const setupNavigation = () => {
                const tabs = document.querySelectorAll('nav button');
                const contents = document.querySelectorAll('main > div');

                const switchTab = (targetId) => {
                    tabs.forEach(tab => {
                        const isActive = tab.id === `tab-${targetId}`;
                        tab.classList.toggle('tab-active', isActive);
                        tab.classList.toggle('tab-inactive', !isActive);
                    });
                    contents.forEach(content => {
                        content.classList.toggle('hidden', content.id !== `content-${targetId}`);
                    });
                };
                
                switchTab('intro');

                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        const targetId = tab.id.replace('tab-', '');
                        switchTab(targetId);
                        if(targetId === 'progression' && !progressionChart) {
                            renderProgressionChart();
                        }
                    });
                });
            };
            
            const setupSelectors = () => {
                const weekSelector = document.getElementById('week-selector');
                const daySelector = document.getElementById('day-selector');
                
                for (let i = 1; i <= 12; i++) {
                    const weekBtn = document.createElement('button');
                    weekBtn.textContent = `S.${i}`;
                    weekBtn.dataset.week = i;
                    weekBtn.className = 'week-btn p-2 w-12 text-center text-sm font-medium rounded-md border-2 border-transparent transition-colors duration-200';
                    weekBtn.addEventListener('click', () => {
                       const firstDayOfWeek = programData.find(s => s.week === i && s.mainMove !== 'Repos')?.day || 1;
                       renderWorkout(i, firstDayOfWeek);
                    });
                    weekSelector.appendChild(weekBtn);
                }

                const daysInWeek = 5;
                for (let i = 1; i <= daysInWeek; i++) {
                     const trainingDay = programData.find(s => s.week === currentWeek && s.day === i);
                     if (trainingDay && trainingDay.mainMove === 'Repos') continue;

                     const dayBtn = document.createElement('button');
                     dayBtn.textContent = `Jour ${i}`;
                     dayBtn.dataset.day = i;
                     dayBtn.className = 'day-btn px-4 py-2 text-sm font-semibold rounded-full transition-colors duration-200';
                     dayBtn.addEventListener('click', () => {
                        renderWorkout(currentWeek, i);
                     });
                     daySelector.appendChild(dayBtn);
                }
            };
            
            const updateActiveButtons = () => {
                 document.querySelectorAll('.week-btn').forEach(btn => {
                    btn.classList.toggle('btn-week-active', parseInt(btn.dataset.week) === currentWeek);
                });
                document.querySelectorAll('.day-btn').forEach(btn => {
                    btn.classList.toggle('btn-day-active', parseInt(btn.dataset.day) === currentDay);
                });
            }

            const renderProgressionChart = () => {
                 const ctx = document.getElementById('progressionChart').getContext('2d');
                 const labels = Array.from({length: 12}, (_, i) => `S.${i + 1}`);
                 
                 const getPercentagesForLift = (liftName) => {
                    return labels.map((label, index) => {
                        const week = index + 1;
                        const session = programData.find(s => s.week === week && s.mainMove === liftName);
                        return session ? session.content[0].pct : null;
                    });
                 }

                progressionChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            { label: 'Back Squat', data: getPercentagesForLift('Back Squat'), borderColor: '#ef4444', tension: 0.1, fill: false },
                            { label: 'Bench Press', data: getPercentagesForLift('Bench Press'), borderColor: '#3b82f6', tension: 0.1, fill: false },
                            { label: 'Deadlift', data: getPercentagesForLift('Deadlift'), borderColor: '#16a34a', tension: 0.1, fill: false },
                            { label: 'Strict Press', data: getPercentagesForLift('Strict Press'), borderColor: '#f97316', tension: 0.1, fill: false }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: { display: true, text: 'Progression de l\'Intensité (%TM) des Mouvements Principaux' },
                            tooltip: { mode: 'index', intersect: false, callbacks: { label: (context) => `${context.dataset.label}: ${context.parsed.y}%` } },
                        },
                        scales: {
                            y: { beginAtZero: true, title: { display: true, text: '% du Training Max' } },
                            x: { title: { display: true, text: 'Semaine' } }
                        }
                    }
                });
            };

            document.getElementById('tm-calculator').addEventListener('input', calculateTMs);
            
            setupNavigation();
            setupSelectors();
            calculateTMs();
            renderWorkout(1, 1);
        });
    </script>
</body>
</html>
